/*! For license information please see index.bundle.js.LICENSE.txt */
(()=>{var e={554:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(596),i=n(602);t.default=class{gameControllerActionListener;constructor(){document.onkeydown=e=>{this.keyBoardEventsHandler(e)};const e=document.querySelector(".field");if(null===e)throw new Error(".game-scene .field not found");const t=new r.Region(e),n=new r.Tap({numInputs:1,maxDelay:200,tolerance:10}),i=new r.Pan({threshold:30});t.bind(e,n,(e=>this.touchEventsHandler(e))),t.bind(e,i,(e=>this.touchEventsHandler(e)))}setControllerActionListener(e){this.gameControllerActionListener=e}onPauseClick(){void 0!==this.gameControllerActionListener&&this.gameControllerActionListener(i.GameControllerAction.PAUSE)}onResumeClick(){void 0!==this.gameControllerActionListener&&this.gameControllerActionListener(i.GameControllerAction.RESUME)}onRestartClick(){void 0!==this.gameControllerActionListener&&this.gameControllerActionListener(i.GameControllerAction.NEW_GAME)}touchEventsHandler(e){if(void 0!==this.gameControllerActionListener){const t=e.type;if("tap"===t)this.gameControllerActionListener(i.GameControllerAction.ROTATE);else if("swipe"===t){const{currentDirection:t}=e.detail.data[0];t>=202.5&&t<=337.5&&this.gameControllerActionListener(i.GameControllerAction.DOWN)}else if("pan"===t){const{currentDirection:t}=e.detail.data[0];t>=135&&t<=225?this.gameControllerActionListener(i.GameControllerAction.LEFT):t>=315||t<=45?this.gameControllerActionListener(i.GameControllerAction.RIGHT):t>225&&t<315&&this.gameControllerActionListener(i.GameControllerAction.DOWN)}}}keyBoardEventsHandler(e){void 0!==this.gameControllerActionListener&&(["ArrowLeft","KeyA"].includes(e.code)?this.gameControllerActionListener(i.GameControllerAction.LEFT):["ArrowRight","KeyD"].includes(e.code)?this.gameControllerActionListener(i.GameControllerAction.RIGHT):["ArrowDown","KeyS","Space"].includes(e.code)?this.onDownAction():["ArrowUp","KeyW","Enter"].includes(e.code)&&this.gameControllerActionListener(i.GameControllerAction.ROTATE))}onDownAction(){new Promise(((e,t)=>{void 0!==this.gameControllerActionListener?(this.gameControllerActionListener(i.GameControllerAction.DOWN),setTimeout((()=>{void 0!==this.gameControllerActionListener&&(this.gameControllerActionListener(i.GameControllerAction.DOWN),e())}),50)):e()}))}}},947:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{controller;field;level;score;modalAria;modalGameOver;modalPause;bestScore;nextTetro;maxX=10;maxY=20;constructor(e){this.controller=e;const t=document.querySelector(".game-scene");if(null===t)throw new Error(".game-scene not found");const n=t.querySelector(".field");if(null===n)throw new Error(".game-scene .field not found");this.field=new Array;for(let e=0;e<this.maxY;e++){let e=[];for(let t=0;t<this.maxX;t++){let t=document.createElement("div");t.classList.add("cell"),e.push(t),n.append(t)}this.field.push(e)}const r=t.querySelector(".level-value");if(null===r)throw new Error(".game-scene .level-value not found");this.level=r;const i=t.querySelector(".score-value");if(null===i)throw new Error(".game-scene .score-value not found");this.score=i;const o=t.querySelector(".best-score-value");if(null===o)throw new Error(".game-scene .best-score-value not found");this.bestScore=o;const s=t.querySelector(".next-tetro-field");if(null===s)throw new Error(".game-scene .next-tetro-field not found");this.nextTetro=new Array;for(let e=0;e<4;e++){let e=[];for(let t=0;t<4;t++){let t=document.createElement("div");t.classList.add("cell"),e.push(t),s.append(t)}this.nextTetro.push(e)}const a=t.getElementsByClassName("pause-button")[0];if(void 0===a)throw new Error(".game-scene .pause-button not found");a.onclick=()=>{this.controller.onPauseClick(),this.modalAria.style.display="grid",this.modalPause.style.display="block"};const u=document.getElementsByClassName("modal-aria")[0];if(void 0===u)throw new Error(".modal-aria not found");this.modalAria=u,this.modalAria.style.display="none";const l=this.modalAria.getElementsByClassName("modal-pause")[0];if(void 0===l)throw new Error(".modal-pause not found");this.modalPause=l,this.modalPause.style.display="none";const c=this.modalPause.getElementsByClassName("restart-button")[0];if(void 0===c)throw new Error(".restart-buton not found");c.onclick=()=>{this.controller.onRestartClick(),this.modalAria.style.display="none",this.modalPause.style.display="none"};const f=this.modalPause.getElementsByClassName("continue-button")[0];if(void 0===f)throw new Error(".continue-buton not found");f.onclick=()=>{this.controller.onResumeClick(),this.modalAria.style.display="none",this.modalPause.style.display="none"};const h=this.modalAria.getElementsByClassName("modal-game-over")[0];if(void 0===h)throw new Error(".modal-game-over not found");this.modalGameOver=h,this.modalGameOver.style.display="none";const d=this.modalGameOver.getElementsByClassName("restart-button")[0];if(void 0===d)throw new Error(".restart-buton not found");d.onclick=()=>{this.controller.onRestartClick(),this.modalAria.style.display="none",this.modalGameOver.style.display="none"}}updateLevel(e){this.level.textContent=e.toString()}updateScore(e){this.score.textContent=e.toString()}updateBestScore(e){this.bestScore.textContent=e.toString()}updateNextTetro(e,t,n){this.nextTetro.forEach((e=>{e.forEach((e=>e.classList.remove(...this.getTetroStyles(e))))}));let[r,i]=n<3?[1,1]:[0,0];e.forEach((e=>{let[n,o]=e;this.nextTetro[i+o][r+n].classList.add(`tetro-${t}`)}))}updateField(e){for(let t=0;t<this.maxY;t++)for(let n=0;n<this.maxX;n++){const r=e[t][n],i=this.field[t][n],o=this.getTetroStyles(i);null===r&&o.length>0?i.classList.remove(...o):(i.classList.remove(...o),i.classList.add(`tetro-${r}`))}}removeLines(e){return new Promise((t=>{null!=e&&e.length>0?(e.forEach((e=>{this.field[e].forEach((e=>{this.getTetroStyles(e),e.classList.add("tetro-removed")}))})),setTimeout((()=>t()),400)):t()}))}onGameOver(){this.modalAria.style.display="grid",this.modalGameOver.style.display="block"}getTetroStyles(e){const t=new Array;return e.classList.forEach((e=>{e.startsWith("tetro-")&&t.push(e)})),t}}},760:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){void 0===localStorage.bestScore&&(localStorage.bestScore=0)}getBestScore(){return localStorage.bestScore}setBestScore(e){localStorage.bestScore=e}}},602:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.GameControllerAction=void 0,function(e){e[e.DOWN=0]="DOWN",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.ROTATE=3]="ROTATE",e[e.PAUSE=4]="PAUSE",e[e.RESUME=5]="RESUME",e[e.NEW_GAME=6]="NEW_GAME"}(n||(n={})),t.GameControllerAction=n},248:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(690);var i;!function(e){e[e.Empty=0]="Empty",e[e.Active=1]="Active",e[e.Frozen=2]="Frozen"}(i||(i={})),t.default=class{maxX=10;maxY=20;centerX=5;fieldStates;fieldImage;tetro=null;nextTetro=null;x0=0;y0=0;constructor(){this.fieldStates=new Array(this.maxY),this.fieldImage=new Array(this.maxY);for(let e=0;e<this.maxY;e++)this.fieldStates[e]=new Array(this.maxX).fill(0),this.fieldImage[e]=new Array(this.maxX).fill(null)}getFieldImage(){return this.fieldImage}getNextTero(){return this.nextTetro}setNextTetro(){const e=this.nextTetro??r.default.randome(),t=e.size<3?this.centerX-1:this.centerX-2;return!this.isIntersected(t,0,e)&&(this.tetro=e,this.x0=t,this.y0=0,this.drow(this.x0,this.y0,this.tetro.points,i.Active,this.tetro.typeId),this.nextTetro=r.default.randome(),!0)}freezeTetro(){null!==this.tetro&&this.drow(this.x0,this.y0,this.tetro.points,i.Frozen,this.tetro.typeId)}rotateTetro(){if(null!==this.tetro){let e=this.x0,t=this.y0;const n=this.tetro.getRotated(),r=this.get小oords(e,t,n.points).map((e=>e[0])),o=Math.max(...r),s=this.maxX-o-1;if(s<0&&(e+=s),this.isIntersected(e,t,n))return;this.drow(this.x0,this.y0,this.tetro.points,i.Empty,null),this.x0=e,this.y0=t,this.tetro=n,this.drow(this.x0,this.y0,this.tetro.points,i.Active,this.tetro.typeId)}}moveTetroDown(){return this.moveTetro(this.x0,this.y0+1)}moveTetroLeft(){this.moveTetro(this.x0-1,this.y0)}moveTetroRight(){this.moveTetro(this.x0+1,this.y0)}removeFilledLines(){const e=[];for(let t=0;t<this.maxY;t++)this.fieldStates[t].every((e=>e===i.Frozen))&&e.push(t);return e.forEach((e=>{this.fieldStates.splice(e,1),this.fieldImage.splice(e,1),this.fieldStates.unshift(new Array(this.maxX).fill(0)),this.fieldImage.unshift(new Array(this.maxX).fill(null))})),e}moveTetro(e,t){return null!==this.tetro&&!this.isIntersected(e,t,this.tetro)&&(this.drow(this.x0,this.y0,this.tetro.points,i.Empty,null),this.x0=e,this.y0=t,this.drow(this.x0,this.y0,this.tetro.points,i.Active,this.tetro.typeId),!0)}isIntersected(e,t,n){return this.get小oords(e,t,n.points).some((e=>{const[t,n]=e;return t<0||t>=this.maxX||n<0||n>=this.maxY||this.fieldStates[n][t]===i.Frozen}))}drow(e,t,n,r,i){this.get小oords(e,t,n).forEach((e=>{const[t,n]=e;this.fieldStates[n][t]=r,this.fieldImage[n][t]=i}))}get小oords(e,t,n){return n.map((n=>{const[r,i]=n;return[e+r,t+i]}))}}},568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(248),i=n(602);var o;!function(e){e[e.NotStarted=0]="NotStarted",e[e.Started=1]="Started",e[e.Paused=2]="Paused",e[e.Await=3]="Await",e[e.GameOver=4]="GameOver"}(o||(o={})),t.default=class{scene;controller;storage;gameField;gameState;score=0;timer;sratrTimerDelay=500;minTimerDelay=50;speedUpPercent=2;level=0;constructor(e,t,n){this.gameState=o.NotStarted,this.gameField=new r.default,this.scene=e,this.controller=t,this.storage=n,this.controller.setControllerActionListener((e=>this.onGameControllerAction(e))),this.scene.updateField(this.gameField.getFieldImage())}onGameControllerAction(e){e===i.GameControllerAction.NEW_GAME&&this.onRestart(),e===i.GameControllerAction.LEFT&&this.onLeft(),e===i.GameControllerAction.RIGHT&&this.onRight(),e===i.GameControllerAction.DOWN&&this.onDown(),e===i.GameControllerAction.ROTATE&&this.onRotate(),e===i.GameControllerAction.PAUSE&&this.onPause(),e===i.GameControllerAction.RESUME&&this.onResume()}onRestart(){this.gameState=o.NotStarted,this.gameField=new r.default,this.onStart()}onStart(){this.score=0,this.level=0,this.updateGameStatistic([]),this.gameField.setNextTetro();const e=this.gameField.getNextTero();null!==e&&this.scene.updateNextTetro(e.points,e.typeId,e.size),this.gameState=o.Started,this.runTimer()}runTimer(){void 0!==this.timer&&null!==this.timer&&clearInterval(this.timer),this.timer=setInterval((()=>this.onDown()),this.calcSpeed())}stopTimer(){void 0!==this.timer&&null!==this.timer&&clearInterval(this.timer)}onLeft(){this.gameState===o.Started&&(this.gameField.moveTetroLeft(),this.scene.updateField(this.gameField.getFieldImage()))}onRight(){this.gameState===o.Started&&(this.gameField.moveTetroRight(),this.scene.updateField(this.gameField.getFieldImage()))}onDown(){if(this.gameState===o.Started)if(this.gameField.moveTetroDown())this.scene.updateField(this.gameField.getFieldImage());else{this.gameState=o.Await,this.stopTimer(),this.gameField.freezeTetro();const e=this.gameField.removeFilledLines();this.scene.removeLines(e).then((()=>{if(this.updateGameStatistic(e),this.gameField.setNextTetro()){const e=this.gameField.getNextTero();null!==e&&this.scene.updateNextTetro(e.points,e.typeId,e.size),this.scene.updateField(this.gameField.getFieldImage()),this.gameState=o.Started,this.runTimer()}else this.gameState=o.GameOver,this.scene.onGameOver()}))}}onRotate(){this.gameState===o.Started&&(this.gameField.rotateTetro(),this.scene.updateField(this.gameField.getFieldImage()))}onPause(){this.gameState===o.Started&&(this.gameState=o.Paused,this.stopTimer())}onResume(){this.gameState===o.Paused&&(this.gameState=o.Started,this.runTimer())}updateGameStatistic(e){let t=0;switch(e.length){case 1:t+=100;break;case 2:t+=300;break;case 3:t+=700;break;case 4:t+=1500}this.score+=t,this.storage.getBestScore()<this.score&&this.storage.setBestScore(this.score),this.level=Math.floor(this.score/500),this.scene.updateLevel(this.level+1),this.scene.updateScore(this.score),this.scene.updateBestScore(this.storage.getBestScore())}calcSpeed(){const e=this.sratrTimerDelay*((this.level-1)*this.speedUpPercent/100);let t=Math.round(this.sratrTimerDelay-e);return Math.max(this.minTimerDelay,t)}}},690:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{typeId;shape;points;shapeImage;size;constructor(e,t){this.typeId=e,this.shape=t,this.points=new Array,this.size=t.length,this.shapeImage=new Array;for(let e=0;e<this.size;e++){let t=new Array;for(let n=0;n<this.size;n++)1===this.shape[e][n]?(this.points.push([n,e]),t.push(this.typeId)):t.push(null);this.shapeImage.push(t)}}getRotated(){const e=new Array(this.size);for(let t=0;t<e.length;t++)e[t]=new Array(this.size);for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++)e[n][this.size-1-t]=this.shape[t][n];return new n(this.typeId,e)}static T=new n("t",[[1,1,1],[0,1,0],[0,0,0]]);static I=new n("i",[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]]);static I2=new n("i2",[[0,1,0],[0,1,0],[0,1,0]]);static I3=new n("i3",[[0,1],[0,1]]);static L=new n("l",[[0,1,0],[0,1,0],[0,1,1]]);static L2=new n("l2",[[0,1,0],[0,1,0],[1,1,0]]);static L3=new n("l3",[[1,0],[1,1]]);static L4=new n("l4",[[0,1],[1,1]]);static Z=new n("z",[[0,1,1],[1,1,0],[0,0,0]]);static Z2=new n("z2",[[1,1,0],[0,1,1],[0,0,0]]);static O=new n("o",[[1,1],[1,1]]);static O2=new n("o2",[[1]]);static List=[this.I,this.I2,this.I3,this.L,this.L2,this.L3,this.L4,this.O,this.O2,this.T,this.Z,this.Z2];static randome(){const e=Math.floor(Math.random()*this.List.length);let t=this.List[e];const n=Math.floor(4*Math.random());for(let e=0;e<n;e++)t=t.getRotated();return t}}t.default=n},378:()=>{!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));window.ZingTouch=r.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(4)),s=r(n(10)),a=r(n(12)),u=r(n(13)),l=r(n(14)),c=r(n(15)),f=r(n(16)),h={_regions:[],Gesture:o.default,Expand:s.default,Pan:a.default,Pinch:u.default,Rotate:l.default,Swipe:c.default,Tap:f.default,Region:function(e,t,n){var r=h._regions.length,o=new i.default(e,t,n,r);return h._regions.push(o),o}};t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=r(n(3)),s=r(n(4)),a=r(n(6)),u=r(n(9)),l=function(){function e(t,n,r,i){var o=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.id=i,this.element=t,this.capture=void 0!==n&&n,this.preventDefault=void 0===r||r,this.state=new u.default(i),(window.PointerEvent&&!window.TouchEvent?["pointerdown","pointermove","pointerup"]:["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"]).map((function(e){t.addEventListener(e,(function(e){(0,a.default)(e,o)}),o.capture)}))}return i(e,[{key:"bind",value:function(e,t,n,r,i){if(!e||e&&!e.tagName)throw"Bind must contain an element";return i=void 0!==i&&i,t?void this.state.addBinding(e,t,n,r,i):new o.default(e,i,this.state)}},{key:"bindOnce",value:function(e,t,n,r){this.bind(e,t,n,r,!0)}},{key:"unbind",value:function(e,t){var n=this,r=this.state.retrieveBindingsByElement(e),i=[];return r.forEach((function(r){t?"string"==typeof t&&n.state.registeredGestures[t]&&n.state.registeredGestures[t].id===r.gesture.id&&(e.removeEventListener(r.gesture.getId(),r.handler,r.capture),i.push(r)):(e.removeEventListener(r.gesture.getId(),r.handler,r.capture),i.push(r))})),i}},{key:"register",value:function(e,t){if("string"!=typeof e)throw new Error("Parameter key is an invalid string");if(!t instanceof s.default)throw new Error("Parameter gesture is an invalid Gesture object");t.setType(e),this.state.registerGesture(t,e)}},{key:"unregister",value:function(e){this.state.bindings.forEach((function(t){t.gesture.getType()===e&&t.element.removeEventListener(t.gesture.getId(),t.handler,t.capture)}));var t=this.state.registeredGestures[e];return delete this.state.registeredGestures[e],t}}]),e}();t.default=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n,r){var i=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.element=t,Object.keys(r.registeredGestures).forEach((function(e){i[e]=function(t,o){return r.addBinding(i.element,e,t,o,n),i}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),o=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.type=null,this.id=null}return r(e,[{key:"setType",value:function(e){this.type=e}},{key:"getType",value:function(){return this.type}},{key:"setId",value:function(e){this.id=e}},{key:"getId",value:function(){return null!==this.id?this.id:this.type}},{key:"update",value:function(e){for(var t in e)this[t]&&(this[t]=e[t])}},{key:"start",value:function(e,t,n){return null}},{key:"move",value:function(e,t,n){return null}},{key:"end",value:function(e){return null}},{key:"isValid",value:function(e,t,n){var r=!0;return e.length>1&&e.forEach((function(e){i.default.isInside(e.initial.x,e.initial.y,n)||(r=!1)})),r}}]),e}();t.default=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=360,r={normalizeEvent:function(e){switch(e){case"mousedown":case"touchstart":case"pointerdown":return"start";case"mousemove":case"touchmove":case"pointermove":return"move";case"mouseup":case"touchend":case"pointerup":return"end";default:return null}},isWithin:function(e,t,n,r,i){return Math.abs(t-r)<=i&&Math.abs(e-n)<=i},distanceBetweenTwoPoints:function(e,t,n,r){var i=Math.sqrt((t-e)*(t-e)+(r-n)*(r-n));return Math.round(100*i)/100},getMidpoint:function(e,t,n,r){return{x:(e+t)/2,y:(n+r)/2}},getAngle:function(e,t,r,i){var o=Math.atan2(i-t,r-e)*(180/Math.PI);return n-(o<0?n+o:o)},getAngularDistance:function(e,t){var r=(t-e)%n,i=r<0?1:-1;return(r=Math.abs(r))>180?i*(n-r):i*r},getVelocity:function(e,t,n,r,i,o){return this.distanceBetweenTwoPoints(e,r,t,i)/(o-n)},getRightMostInput:function(e){var t=null,n=Number.MIN_VALUE;return e.forEach((function(e){e.initial.x>n&&(t=e)})),t},isInteger:function(e){return"number"==typeof e&&e%1==0},isInside:function(e,t,n){var r=n.getBoundingClientRect();return e>r.left&&e<r.left+r.width&&t>r.top&&t<r.top+r.height},getPropagationPath:function(e){if(e.path)return e.path;for(var t=[],n=e.target;n!=document;)t.push(n),n=n.parentNode;return t},getPathIndex:function(e,t){var n=e.length;return e.forEach((function(e,r){e===t&&(n=r)})),n},setMSPreventDefault:function(e){e.style["-ms-content-zooming"]="none",e.style["touch-action"]="none"},removeMSPreventDefault:function(e){e.style["-ms-content-zooming"]="",e.style["touch-action"]=""}};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(7)),o=r(n(8)),s=r(n(5));t.default=function(e,t){var n=t.state;if(0!==n.inputs.length||"start"===s.default.normalizeEvent(e.type)){if(void 0!==e.buttons&&"end"!==s.default.normalizeEvent(e.type)&&0===e.buttons)return void n.resetInputs();if(n.updateInputs(e,t.element)){var r=n.retrieveBindingsByInitialPos();r.length>0&&function(){t.preventDefault?(s.default.setMSPreventDefault(t.element),e.preventDefault?e.preventDefault():e.returnValue=!1):s.default.removeMSPreventDefault(t.element);var a={};(0,o.default)(r,e,n).forEach((function(t){var n=t.binding.gesture.id;if(a[n]){var r=s.default.getPropagationPath(e);s.default.getPathIndex(r,t.binding.element)<s.default.getPathIndex(r,a[n].binding.element)&&(a[n]=t)}else a[n]=t})),Object.keys(a).forEach((function(e){var t=a[e];(0,i.default)(t.binding,t.data,t.events)}))}();var a=0;n.inputs.forEach((function(e){"end"===e.getCurrentEventType()&&a++})),a===n.inputs.length&&n.resetInputs()}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){t.events=n;var r=new CustomEvent(e.gesture.getId(),{detail:t,bubbles:!0,cancelable:!0});!function(e,t,n){e.dispatchEvent(t),n.bindOnce&&ZingTouch.unbind(n.element,n.gesture.getType())}(e.element,r,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(5));t.default=function(e,t,n){var i=r.default.normalizeEvent(t.type),o=[];return e.forEach((function(e){var t=e.gesture[i](n.inputs,n,e.element);t&&function(){var r=[];n.inputs.forEach((function(e){r.push(e.current)})),o.push({binding:e,data:t,events:r})}()})),o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=r(n(4)),a=r(n(10)),u=r(n(12)),l=r(n(13)),c=r(n(14)),f=r(n(15)),h=r(n(16)),d=r(n(17)),p=r(n(18)),m=r(n(5)),y=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.regionId=t,this.inputs=[],this.bindings=[],this.numGestures=0,this.registeredGestures={},this.registerGesture(new a.default,"expand"),this.registerGesture(new u.default,"pan"),this.registerGesture(new c.default,"rotate"),this.registerGesture(new l.default,"pinch"),this.registerGesture(new f.default,"swipe"),this.registerGesture(new h.default,"tap")}return o(e,[{key:"addBinding",value:function(e,t,n,r,o){var a=void 0;if(e&&void 0===e.tagName)throw new Error("Parameter element is an invalid object.");if("function"!=typeof n)throw new Error("Parameter handler is invalid.");if("string"==typeof t&&-1===Object.keys(this.registeredGestures).indexOf(t))throw new Error("Parameter "+t+" is not a registered gesture");if("object"===(void 0===t?"undefined":i(t))&&!(t instanceof s.default))throw new Error("Parameter for the gesture is not of a Gesture type");"string"==typeof t?a=this.registeredGestures[t]:""===(a=t).id&&this.assignGestureId(a),this.bindings.push(new d.default(e,a,n,r,o)),e.addEventListener(a.getId(),n,r)}},{key:"retrieveBindingsByElement",value:function(e){var t=[];return this.bindings.map((function(n){n.element===e&&t.push(n)})),t}},{key:"retrieveBindingsByInitialPos",value:function(){var e=this,t=[];return this.bindings.forEach((function(n){e.inputs.filter((function(e){return m.default.isInside(e.initial.x,e.initial.y,n.element)})).length>0&&t.push(n)})),t}},{key:"updateInputs",value:function(e,t){function n(e,t,n,r){var i=m.default.normalizeEvent(e.type),o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return null}(t.inputs,n);return"start"===i&&o||"start"!==i&&o&&!m.default.isInside(o.current.x,o.current.y,r)?void t.resetInputs():"start"===i||o?void("start"===i?t.inputs.push(new p.default(e,n)):o.update(e,n)):void t.resetInputs()}switch(e.touches?"TouchEvent":e.pointerType?"PointerEvent":"MouseEvent"){case"TouchEvent":for(var r in e.changedTouches)e.changedTouches.hasOwnProperty(r)&&m.default.isInteger(parseInt(r))&&n(e,this,e.changedTouches[r].identifier,t);break;case"PointerEvent":n(e,this,e.pointerId,t);break;default:n(e,this,0,t)}return!0}},{key:"resetInputs",value:function(){this.inputs=[]}},{key:"numActiveInputs",value:function(){return this.inputs.filter((function(e){return"end"!==e.current.type})).length}},{key:"registerGesture",value:function(e,t){this.assignGestureId(e),this.registeredGestures[t]=e}},{key:"assignGestureId",value:function(e){e.setId(this.regionId+"-"+this.numGestures++)}}]),e}();t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(11)),i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.type="expand",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=r(n(4)),s=r(n(5)),a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.type="distance",n.threshold=e&&e.threshold?e.threshold:1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(e,t,n){if(!this.isValid(e,t,n))return null;2===e.length&&(e[0].getGestureProgress(this.type).lastEmittedDistance=s.default.distanceBetweenTwoPoints(e[0].current.x,e[1].current.x,e[0].current.y,e[1].current.y))}},{key:"move",value:function(e,t,n){if(2===t.numActiveInputs()){var r=s.default.distanceBetweenTwoPoints(e[0].current.x,e[1].current.x,e[0].current.y,e[1].current.y),i=s.default.distanceBetweenTwoPoints(e[0].previous.x,e[1].previous.x,e[0].previous.y,e[1].previous.y),o=s.default.getMidpoint(e[0].current.x,e[1].current.x,e[0].current.y,e[1].current.y),a=e[0].getGestureProgress(this.type);if("Expand"===this.constructor.name){if(r<i)a.lastEmittedDistance=r;else if(r-a.lastEmittedDistance>=this.threshold)return a.lastEmittedDistance=r,{distance:r,center:o}}else if(r>i)a.lastEmittedDistance=r;else if(r<i&&a.lastEmittedDistance-r>=this.threshold)return a.lastEmittedDistance=r,{distance:r,center:o};return null}}}]),t}(o.default);t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=r(n(4)),s=r(n(5)),a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.type="pan",n.numInputs=e&&e.numInputs?e.numInputs:1,n.threshold=e&&e.threshold?e.threshold:1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(e){var t=this;e.forEach((function(e){var n=e.getGestureProgress(t.getId());n.active=!0,n.lastEmitted={x:e.current.x,y:e.current.y}}))}},{key:"move",value:function(e,t,n){if(this.numInputs===e.length)for(var r={data:[]},i=0;i<e.length;i++){var o,a=e[i].getGestureProgress(this.getId()),u=Math.abs(e[i].current.y-a.lastEmitted.y)>this.threshold,l=Math.abs(e[i].current.x-a.lastEmitted.x)>this.threshold;if(o=u||l,!a.active||!o)return null;r.data[i]={distanceFromOrigin:s.default.distanceBetweenTwoPoints(e[i].initial.x,e[i].current.x,e[i].initial.y,e[i].current.y),directionFromOrigin:s.default.getAngle(e[i].initial.x,e[i].initial.y,e[i].current.x,e[i].current.y),currentDirection:s.default.getAngle(a.lastEmitted.x,a.lastEmitted.y,e[i].current.x,e[i].current.y)},a.lastEmitted.x=e[i].current.x,a.lastEmitted.y=e[i].current.y}return r}},{key:"end",value:function(e){var t=this;return e.forEach((function(e){e.getGestureProgress(t.getId()).active=!1})),null}}]),t}(o.default);t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(11)),o=(r(n(5)),function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.type="pinch",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default));t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=r(n(4)),s=r(n(5)),a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="rotate",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"move",value:function(e,t,n){if(t.numActiveInputs()<=2){var r=void 0,i=void 0,o=void 0,a=void 0;if(1===t.numActiveInputs()){var u=n.getBoundingClientRect();r={x:u.left+u.width/2,y:u.top+u.height/2},a=e[0],i=o=0}else{r=s.default.getMidpoint(e[0].initial.x,e[1].initial.x,e[0].initial.y,e[1].initial.y);var l=s.default.getMidpoint(e[0].current.x,e[1].current.x,e[0].current.y,e[1].current.y);i=r.x-l.x,o=r.y-l.y,a=s.default.getRightMostInput(e)}var c=s.default.getAngle(r.x,r.y,a.current.x+i,a.current.y+o),f=a.getGestureProgress(this.getId());return f.initialAngle?(f.change=s.default.getAngularDistance(f.previousAngle,c),f.distance=f.distance+f.change):(f.initialAngle=f.previousAngle=c,f.distance=f.change=0),f.previousAngle=c,{angle:c,distanceFromOrigin:f.distance,distanceFromLast:f.change}}return null}}]),t}(o.default);t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=r(n(4)),s=r(n(5)),a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.type="swipe",n.numInputs=e&&e.numInputs?e.numInputs:1,n.maxRestTime=e&&e.maxRestTime?e.maxRestTime:100,n.escapeVelocity=e&&e.escapeVelocity?e.escapeVelocity:.2,n.timeDistortion=e&&e.timeDistortion?e.timeDistortion:100,n.maxProgressStack=e&&e.maxProgressStack?e.maxProgressStack:10,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"move",value:function(e,t,n){if(this.numInputs===e.length)for(var r=0;r<e.length;r++){var i=e[r].getGestureProgress(this.getId());i.moves||(i.moves=[]),i.moves.push({time:(new Date).getTime(),x:e[r].current.x,y:e[r].current.y}),i.length>this.maxProgressStack&&i.moves.shift()}return null}},{key:"end",value:function(e){if(this.numInputs===e.length){for(var t={data:[]},n=0;n<e.length;n++){if("end"!==e[n].current.type)return;var r=e[n].getGestureProgress(this.getId());if(r.moves&&r.moves.length>2){var i=r.moves.pop();if((new Date).getTime()-i.time>this.maxRestTime)return null;for(var o=void 0,a=r.moves.length-1;-1!==a;){if(r.moves[a].time!==i.time){o=r.moves[a];break}a--}o||((o=r.moves.pop()).time+=this.timeDistortion);var u=s.default.getVelocity(o.x,o.y,o.time,i.x,i.y,i.time);t.data[n]={velocity:u,distance:s.default.distanceBetweenTwoPoints(o.x,i.x,o.y,i.y),duration:i.time-o.time,currentDirection:s.default.getAngle(o.x,o.y,i.x,i.y)}}}for(n=0;n<t.data.length;n++)if(u<this.escapeVelocity)return null;if(t.data.length>0)return t}return null}}]),t}(o.default);t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=r(n(4)),a=r(n(5)),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.type="tap",n.minDelay=e&&e.minDelay?e.minDelay:0,n.maxDelay=e&&e.maxDelay?e.maxDelay:300,n.numInputs=e&&e.numInputs?e.numInputs:1,n.tolerance=e&&e.tolerance?e.tolerance:10,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"start",value:function(e){var t=this;return e.length===this.numInputs&&e.forEach((function(e){e.getGestureProgress(t.type).start=(new Date).getTime()})),null}},{key:"move",value:function(e,t,n){for(var r=this,o=0;o<e.length;o++)if("move"===e[o].getCurrentEventType()){var s=e[o].current,u=e[o].previous;if(!a.default.isWithin(s.x,s.y,u.x,u.y,this.tolerance)){var l=function(){var t=r.type;return e.forEach((function(e){e.resetProgress(t)})),{v:null}}();if("object"===(void 0===l?"undefined":i(l)))return l.v}}return null}},{key:"end",value:function(e){var t=this;if(e.length!==this.numInputs)return null;for(var n=Number.MAX_VALUE,r=0;r<e.length;r++){if("end"!==e[r].getCurrentEventType())return null;var o=e[r].getGestureProgress(this.type);if(!o.start)return null;o.start<n&&(n=o.start)}var s=(new Date).getTime()-n;if(this.minDelay<=s&&this.maxDelay>=s)return{interval:s};var a=function(){var n=t.type;return e.forEach((function(e){e.resetProgress(n)})),{v:null}}();return"object"===(void 0===a?"undefined":i(a))?a.v:void 0}}]),t}(s.default);t.default=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n,r,i,o){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.element=t,this.gesture=n,this.handler=r,this.capture=void 0!==i&&i,this.bindOnce=void 0!==o&&o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(19)),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=new i.default(t,n);this.initial=r,this.current=r,this.previous=r,this.identifier=void 0!==n?n:0,this.progress={}}return r(e,[{key:"update",value:function(e,t){this.previous=this.current,this.current=new i.default(e,t)}},{key:"getGestureProgress",value:function(e){return this.progress[e]||(this.progress[e]={}),this.progress[e]}},{key:"getCurrentEventType",value:function(){return this.current.type}},{key:"resetProgress",value:function(e){this.progress[e]={}}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(5));t.default=function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.originalEvent=t,this.type=r.default.normalizeEvent(t.type),this.x=0,this.y=0;var i=void 0;if(t.touches&&t.changedTouches){for(var o=0;o<t.changedTouches.length;o++)if(t.changedTouches[o].identifier===n){i=t.changedTouches[o];break}}else i=t;this.x=this.clientX=i.clientX,this.y=this.clientY=i.clientY,this.pageX=i.pageX,this.pageY=i.pageY,this.screenX=i.screenX,this.screenY=i.screenY}}])},596:(e,t,n)=>{n(378),e.exports=ZingTouch}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{"use strict";const e=n(568),t=n(947),r=n(554),i=n(760),o=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",o),o();const s=new r.default,a=new t.default(s),u=new i.default;new e.default(a,s,u).onStart()})()})();